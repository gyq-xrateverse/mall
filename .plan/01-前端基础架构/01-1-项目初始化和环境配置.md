# 01-1: 项目初始化和环境配置

## 任务概述
**时间**: 第1天  
**目标**: 创建Vite+React+TypeScript项目，完成基础开发环境配置  
**优先级**: 最高  

## 详细任务清单

### 1.1 创建Vite项目
```bash
npm create vite@latest beilv-frontend -- --template react-ts
cd beilv-frontend
npm install
```

**验收标准**:
- [x] 项目成功创建并能正常启动
- [x] React 18和TypeScript 5.x正确安装
- [x] 开发服务器能在3000端口正常运行

### 1.2 环境变量配置
**创建环境配置文件**:

`.env.development`:
```env
VITE_API_BASE_URL=http://localhost:8080/api
VITE_APP_TITLE=BEILV AI Development
VITE_FILE_UPLOAD_URL=http://localhost:8080/api/upload
VITE_WEBSOCKET_URL=ws://localhost:8080/ws
```

`.env.production`:
```env
VITE_API_BASE_URL=https://api.beilv.com/api
VITE_APP_TITLE=BEILV AI
VITE_FILE_UPLOAD_URL=https://api.beilv.com/api/upload
VITE_WEBSOCKET_URL=wss://api.beilv.com/ws
```

**验收标准**:
- [x] 环境变量在开发和生产环境正确读取
- [x] API基础URL配置生效
- [x] 标题和其他配置项正确显示

### 1.3 Vite配置优化
**更新 `vite.config.ts`**:
```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
      '@components': path.resolve(__dirname, './src/components'),
      '@pages': path.resolve(__dirname, './src/pages'),
      '@utils': path.resolve(__dirname, './src/utils'),
      '@api': path.resolve(__dirname, './src/api'),
      '@store': path.resolve(__dirname, './src/store'),
      '@hooks': path.resolve(__dirname, './src/hooks'),
      '@types': path.resolve(__dirname, './src/types'),
      '@assets': path.resolve(__dirname, './src/assets'),
    }
  },
  server: {
    port: 3000,
    open: true,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '/api')
      }
    }
  },
  build: {
    outDir: 'dist',
    rollupOptions: {
      output: {
        chunkFileNames: 'assets/js/[name]-[hash].js',
        entryFileNames: 'assets/js/[name]-[hash].js',
        assetFileNames: 'assets/[ext]/[name]-[hash].[ext]'
      }
    }
  }
})
```

**验收标准**:
- [x] 路径别名(@符号)正确配置
- [x] API代理服务器正常工作
- [x] 开发服务器自动打开浏览器
- [x] 生产构建输出结构合理

### 1.4 TypeScript配置
**更新 `tsconfig.json`**:
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": "./src",
    "paths": {
      "@/*": ["./*"],
      "@components/*": ["./components/*"],
      "@pages/*": ["./pages/*"],
      "@utils/*": ["./utils/*"],
      "@api/*": ["./api/*"],
      "@store/*": ["./store/*"],
      "@hooks/*": ["./hooks/*"],
      "@types/*": ["./types/*"],
      "@assets/*": ["./assets/*"]
    }
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
```

**验收标准**:
- [x] 路径映射与Vite配置一致
- [x] 严格类型检查启用
- [x] 编辑器智能提示正常工作

## 交付物
- [x] 初始化的Vite+React+TypeScript项目
- [x] 完整的环境变量配置
- [x] 优化的Vite和TypeScript配置
- [x] 项目能正常启动和构建

## 风险控制
- **依赖版本兼容性**: 使用最新稳定版本，避免Beta版本
- **代理配置**: 确保后端API地址正确配置
- **路径别名**: 保证所有别名配置在Vite和TypeScript中一致

## 验收记录
**完成时间**: 2025-01-09 10:27  
**验收状态**: ✅ 全部通过  
**验收人**: Claude Code  

### 详细验收记录
1. **1.1 创建Vite项目**: ✅ 通过 - 项目成功创建，React 18 + TypeScript 5.x 安装完成，开发服务器正常运行在3000端口
2. **1.2 环境变量配置**: ✅ 通过 - `.env.development` 和 `.env.production` 文件创建完成，环境变量配置正确
3. **1.3 Vite配置优化**: ✅ 通过 - 路径别名配置完成，API代理配置正确，构建配置优化完成
4. **1.4 TypeScript配置优化**: ✅ 通过 - 路径映射配置完成，严格类型检查启用，@types/node依赖安装完成

### 测试结果
- ✅ `npm run dev` - 开发服务器启动成功
- ✅ `npm run build` - 生产构建成功
- ✅ 项目结构完整，所有交付物就位

## 下一步
完成后进入 `01-2-代码规范和工具配置` ✅ **已完成**