# 01-1-1: 前端系统枚举类定义

## 任务概述
**时间**: 第1天上午 (2小时)  
**目标**: 定义前端系统相关的所有枚举类和常量  
**优先级**: 最高  
**依赖**: 项目初始化完成

## 详细任务清单

### 1.1 前端状态枚举

#### 1.1.1 请求状态枚举
```typescript
// types/enums/RequestStatus.ts

/**
 * 请求状态枚举
 * 用于API请求的状态管理
 */
export enum RequestStatus {
  IDLE = 'idle',
  LOADING = 'loading',
  SUCCESS = 'success',
  ERROR = 'error',
  TIMEOUT = 'timeout',
}

/**
 * 请求状态工具类
 */
export class RequestStatusUtils {
  /**
   * 判断是否为加载中状态
   */
  static isLoading(status: RequestStatus): boolean {
    return status === RequestStatus.LOADING;
  }

  /**
   * 判断是否为成功状态
   */
  static isSuccess(status: RequestStatus): boolean {
    return status === RequestStatus.SUCCESS;
  }

  /**
   * 判断是否为错误状态
   */
  static isError(status: RequestStatus): boolean {
    return status === RequestStatus.ERROR || status === RequestStatus.TIMEOUT;
  }

  /**
   * 判断是否可以发起新请求
   */
  static canMakeRequest(status: RequestStatus): boolean {
    return status !== RequestStatus.LOADING;
  }

  /**
   * 获取状态对应的颜色
   */
  static getStatusColor(status: RequestStatus): string {
    switch (status) {
      case RequestStatus.LOADING:
        return '#1890ff';
      case RequestStatus.SUCCESS:
        return '#52c41a';
      case RequestStatus.ERROR:
      case RequestStatus.TIMEOUT:
        return '#ff4d4f';
      default:
        return '#d9d9d9';
    }
  }

  /**
   * 获取状态显示文本
   */
  static getStatusText(status: RequestStatus): string {
    switch (status) {
      case RequestStatus.IDLE:
        return '空闲';
      case RequestStatus.LOADING:
        return '加载中';
      case RequestStatus.SUCCESS:
        return '成功';
      case RequestStatus.ERROR:
        return '错误';
      case RequestStatus.TIMEOUT:
        return '超时';
      default:
        return '未知';
    }
  }
}
```

#### 1.1.2 用户界面状态枚举
```typescript
// types/enums/UIState.ts

/**
 * UI组件状态枚举
 */
export enum UIState {
  NORMAL = 'normal',
  DISABLED = 'disabled',
  LOADING = 'loading',
  ERROR = 'error',
  SUCCESS = 'success',
  WARNING = 'warning',
  HIDDEN = 'hidden',
}

/**
 * 模态框状态枚举
 */
export enum ModalState {
  CLOSED = 'closed',
  OPENING = 'opening',
  OPENED = 'opened',
  CLOSING = 'closing',
}

/**
 * 侧边栏状态枚举
 */
export enum SidebarState {
  COLLAPSED = 'collapsed',
  EXPANDED = 'expanded',
  MOBILE_HIDDEN = 'mobile_hidden',
  MOBILE_VISIBLE = 'mobile_visible',
}

/**
 * 主题模式枚举
 */
export enum ThemeMode {
  LIGHT = 'light',
  DARK = 'dark',
  AUTO = 'auto',
}

/**
 * UI状态工具类
 */
export class UIStateUtils {
  /**
   * 判断组件是否可交互
   */
  static isInteractive(state: UIState): boolean {
    return state !== UIState.DISABLED && state !== UIState.LOADING && state !== UIState.HIDDEN;
  }

  /**
   * 获取状态对应的CSS类名
   */
  static getStateClassName(state: UIState): string {
    return `ui-${state}`;
  }

  /**
   * 判断模态框是否可见
   */
  static isModalVisible(state: ModalState): boolean {
    return state === ModalState.OPENED || state === ModalState.OPENING;
  }

  /**
   * 判断侧边栏是否折叠
   */
  static isSidebarCollapsed(state: SidebarState): boolean {
    return state === SidebarState.COLLAPSED || state === SidebarState.MOBILE_HIDDEN;
  }

  /**
   * 根据屏幕尺寸获取侧边栏状态
   */
  static getSidebarStateByScreenSize(isMobile: boolean, isCollapsed: boolean): SidebarState {
    if (isMobile) {
      return isCollapsed ? SidebarState.MOBILE_HIDDEN : SidebarState.MOBILE_VISIBLE;
    }
    return isCollapsed ? SidebarState.COLLAPSED : SidebarState.EXPANDED;
  }
}
```

### 1.2 路由相关枚举

#### 1.2.1 路由状态枚举
```typescript
// types/enums/RouteState.ts

/**
 * 路由状态枚举
 */
export enum RouteStatus {
  PENDING = 'pending',
  LOADING = 'loading',
  LOADED = 'loaded',
  ERROR = 'error',
  NOT_FOUND = 'not_found',
  UNAUTHORIZED = 'unauthorized',
  FORBIDDEN = 'forbidden',
}

/**
 * 页面访问权限枚举
 */
export enum PageAccessLevel {
  PUBLIC = 'public',           // 公开页面
  GUEST_ONLY = 'guest_only',   // 仅未登录用户
  AUTH_REQUIRED = 'auth_required', // 需要登录
  VERIFIED_REQUIRED = 'verified_required', // 需要邮箱验证
  SUBSCRIPTION_REQUIRED = 'subscription_required', // 需要订阅套餐
  ADMIN_ONLY = 'admin_only',   // 仅管理员
}

/**
 * 导航类型枚举
 */
export enum NavigationType {
  PUSH = 'push',
  REPLACE = 'replace',
  GO_BACK = 'go_back',
  GO_FORWARD = 'go_forward',
  RELOAD = 'reload',
}

/**
 * 路由工具类
 */
export class RouteUtils {
  /**
   * 判断路由是否需要认证
   */
  static requiresAuth(accessLevel: PageAccessLevel): boolean {
    return [
      PageAccessLevel.AUTH_REQUIRED,
      PageAccessLevel.VERIFIED_REQUIRED,
      PageAccessLevel.SUBSCRIPTION_REQUIRED,
      PageAccessLevel.ADMIN_ONLY,
    ].includes(accessLevel);
  }

  /**
   * 判断路由是否需要订阅
   */
  static requiresSubscription(accessLevel: PageAccessLevel): boolean {
    return accessLevel === PageAccessLevel.SUBSCRIPTION_REQUIRED;
  }

  /**
   * 判断路由是否需要管理员权限
   */
  static requiresAdmin(accessLevel: PageAccessLevel): boolean {
    return accessLevel === PageAccessLevel.ADMIN_ONLY;
  }

  /**
   * 获取访问级别的权重
   */
  static getAccessLevelWeight(accessLevel: PageAccessLevel): number {
    switch (accessLevel) {
      case PageAccessLevel.PUBLIC:
        return 0;
      case PageAccessLevel.GUEST_ONLY:
        return 1;
      case PageAccessLevel.AUTH_REQUIRED:
        return 2;
      case PageAccessLevel.VERIFIED_REQUIRED:
        return 3;
      case PageAccessLevel.SUBSCRIPTION_REQUIRED:
        return 4;
      case PageAccessLevel.ADMIN_ONLY:
        return 5;
      default:
        return 0;
    }
  }

  /**
   * 检查用户是否有页面访问权限
   */
  static checkAccess(
    accessLevel: PageAccessLevel,
    userStatus: {
      isLoggedIn: boolean;
      isVerified: boolean;
      hasSubscription: boolean;
      isAdmin: boolean;
    }
  ): boolean {
    const { isLoggedIn, isVerified, hasSubscription, isAdmin } = userStatus;

    switch (accessLevel) {
      case PageAccessLevel.PUBLIC:
        return true;
      case PageAccessLevel.GUEST_ONLY:
        return !isLoggedIn;
      case PageAccessLevel.AUTH_REQUIRED:
        return isLoggedIn;
      case PageAccessLevel.VERIFIED_REQUIRED:
        return isLoggedIn && isVerified;
      case PageAccessLevel.SUBSCRIPTION_REQUIRED:
        return isLoggedIn && isVerified && hasSubscription;
      case PageAccessLevel.ADMIN_ONLY:
        return isLoggedIn && isVerified && isAdmin;
      default:
        return false;
    }
  }
}
```

### 1.3 数据类型枚举

#### 1.3.1 数据状态枚举
```typescript
// types/enums/DataState.ts

/**
 * 数据状态枚举
 */
export enum DataState {
  EMPTY = 'empty',
  LOADING = 'loading',
  LOADED = 'loaded',
  ERROR = 'error',
  STALE = 'stale',        // 数据过期
  REFRESHING = 'refreshing', // 刷新中
}

/**
 * 缓存状态枚举
 */
export enum CacheStatus {
  MISS = 'miss',          // 缓存未命中
  HIT = 'hit',            // 缓存命中
  STALE = 'stale',        // 缓存过期
  UPDATING = 'updating',  // 缓存更新中
  INVALID = 'invalid',    // 缓存无效
}

/**
 * 排序方向枚举
 */
export enum SortDirection {
  ASC = 'asc',   // 升序
  DESC = 'desc', // 降序
}

/**
 * 筛选条件类型枚举
 */
export enum FilterType {
  EQUAL = 'equal',
  NOT_EQUAL = 'not_equal',
  GREATER_THAN = 'greater_than',
  LESS_THAN = 'less_than',
  CONTAINS = 'contains',
  STARTS_WITH = 'starts_with',
  ENDS_WITH = 'ends_with',
  IN = 'in',
  NOT_IN = 'not_in',
  BETWEEN = 'between',
  IS_NULL = 'is_null',
  IS_NOT_NULL = 'is_not_null',
}

/**
 * 数据工具类
 */
export class DataUtils {
  /**
   * 判断数据是否可用
   */
  static isDataAvailable(state: DataState): boolean {
    return state === DataState.LOADED || state === DataState.STALE;
  }

  /**
   * 判断是否正在加载
   */
  static isLoading(state: DataState): boolean {
    return state === DataState.LOADING || state === DataState.REFRESHING;
  }

  /**
   * 判断数据是否过期
   */
  static isStale(state: DataState): boolean {
    return state === DataState.STALE;
  }

  /**
   * 判断缓存是否有效
   */
  static isCacheValid(status: CacheStatus): boolean {
    return status === CacheStatus.HIT;
  }

  /**
   * 翻转排序方向
   */
  static toggleSortDirection(current: SortDirection): SortDirection {
    return current === SortDirection.ASC ? SortDirection.DESC : SortDirection.ASC;
  }

  /**
   * 获取排序方向图标
   */
  static getSortIcon(direction: SortDirection): string {
    return direction === SortDirection.ASC ? '↑' : '↓';
  }

  /**
   * 根据筛选类型判断是否需要值
   */
  static filterTypeNeedsValue(type: FilterType): boolean {
    return ![FilterType.IS_NULL, FilterType.IS_NOT_NULL].includes(type);
  }

  /**
   * 根据筛选类型判断是否需要多个值
   */
  static filterTypeNeedsMultipleValues(type: FilterType): boolean {
    return [FilterType.IN, FilterType.NOT_IN, FilterType.BETWEEN].includes(type);
  }
}
```

### 1.4 消息和通知枚举

#### 1.4.1 消息类型枚举
```typescript
// types/enums/MessageType.ts

/**
 * 消息类型枚举
 */
export enum MessageType {
  SUCCESS = 'success',
  ERROR = 'error',
  WARNING = 'warning',
  INFO = 'info',
  LOADING = 'loading',
}

/**
 * 通知位置枚举
 */
export enum NotificationPlacement {
  TOP_LEFT = 'topLeft',
  TOP_RIGHT = 'topRight',
  BOTTOM_LEFT = 'bottomLeft',
  BOTTOM_RIGHT = 'bottomRight',
  TOP = 'top',
  BOTTOM = 'bottom',
}

/**
 * 消息持续时间枚举
 */
export enum MessageDuration {
  SHORT = 2000,    // 2秒
  MEDIUM = 4000,   // 4秒
  LONG = 6000,     // 6秒
  PERMANENT = 0,   // 不自动关闭
}

/**
 * 日志级别枚举
 */
export enum LogLevel {
  DEBUG = 0,
  INFO = 1,
  WARN = 2,
  ERROR = 3,
  FATAL = 4,
}

/**
 * 消息工具类
 */
export class MessageUtils {
  /**
   * 获取消息类型对应的图标
   */
  static getMessageIcon(type: MessageType): string {
    switch (type) {
      case MessageType.SUCCESS:
        return '✓';
      case MessageType.ERROR:
        return '✗';
      case MessageType.WARNING:
        return '⚠';
      case MessageType.INFO:
        return 'ℹ';
      case MessageType.LOADING:
        return '⟳';
      default:
        return '';
    }
  }

  /**
   * 获取消息类型对应的颜色
   */
  static getMessageColor(type: MessageType): string {
    switch (type) {
      case MessageType.SUCCESS:
        return '#52c41a';
      case MessageType.ERROR:
        return '#ff4d4f';
      case MessageType.WARNING:
        return '#faad14';
      case MessageType.INFO:
        return '#1890ff';
      case MessageType.LOADING:
        return '#1890ff';
      default:
        return '#666666';
    }
  }

  /**
   * 根据消息类型获取默认持续时间
   */
  static getDefaultDuration(type: MessageType): MessageDuration {
    switch (type) {
      case MessageType.SUCCESS:
        return MessageDuration.SHORT;
      case MessageType.ERROR:
        return MessageDuration.LONG;
      case MessageType.WARNING:
        return MessageDuration.MEDIUM;
      case MessageType.INFO:
        return MessageDuration.MEDIUM;
      case MessageType.LOADING:
        return MessageDuration.PERMANENT;
      default:
        return MessageDuration.MEDIUM;
    }
  }

  /**
   * 判断日志级别是否应该输出
   */
  static shouldLog(messageLevel: LogLevel, minLevel: LogLevel): boolean {
    return messageLevel >= minLevel;
  }

  /**
   * 获取日志级别名称
   */
  static getLogLevelName(level: LogLevel): string {
    switch (level) {
      case LogLevel.DEBUG:
        return 'DEBUG';
      case LogLevel.INFO:
        return 'INFO';
      case LogLevel.WARN:
        return 'WARN';
      case LogLevel.ERROR:
        return 'ERROR';
      case LogLevel.FATAL:
        return 'FATAL';
      default:
        return 'UNKNOWN';
    }
  }
}
```

### 1.5 设备和环境枚举

#### 1.5.1 设备类型枚举
```typescript
// types/enums/Device.ts

/**
 * 设备类型枚举
 */
export enum DeviceType {
  DESKTOP = 'desktop',
  TABLET = 'tablet',
  MOBILE = 'mobile',
}

/**
 * 浏览器类型枚举
 */
export enum BrowserType {
  CHROME = 'chrome',
  FIREFOX = 'firefox',
  SAFARI = 'safari',
  EDGE = 'edge',
  IE = 'ie',
  OPERA = 'opera',
  UNKNOWN = 'unknown',
}

/**
 * 操作系统类型枚举
 */
export enum OSType {
  WINDOWS = 'windows',
  MACOS = 'macos',
  LINUX = 'linux',
  IOS = 'ios',
  ANDROID = 'android',
  UNKNOWN = 'unknown',
}

/**
 * 屏幕尺寸断点枚举
 */
export enum BreakPoint {
  XS = 'xs',    // < 576px
  SM = 'sm',    // >= 576px
  MD = 'md',    // >= 768px
  LG = 'lg',    // >= 992px
  XL = 'xl',    // >= 1200px
  XXL = 'xxl',  // >= 1600px
}

/**
 * 网络状态枚举
 */
export enum NetworkStatus {
  ONLINE = 'online',
  OFFLINE = 'offline',
  SLOW = 'slow',      // 慢速网络
  UNKNOWN = 'unknown',
}

/**
 * 设备工具类
 */
export class DeviceUtils {
  /**
   * 根据屏幕宽度判断设备类型
   */
  static getDeviceTypeByWidth(width: number): DeviceType {
    if (width < 768) {
      return DeviceType.MOBILE;
    } else if (width < 1024) {
      return DeviceType.TABLET;
    } else {
      return DeviceType.DESKTOP;
    }
  }

  /**
   * 根据屏幕宽度获取断点
   */
  static getBreakPointByWidth(width: number): BreakPoint {
    if (width < 576) return BreakPoint.XS;
    if (width < 768) return BreakPoint.SM;
    if (width < 992) return BreakPoint.MD;
    if (width < 1200) return BreakPoint.LG;
    if (width < 1600) return BreakPoint.XL;
    return BreakPoint.XXL;
  }

  /**
   * 判断是否为移动设备
   */
  static isMobile(deviceType: DeviceType): boolean {
    return deviceType === DeviceType.MOBILE;
  }

  /**
   * 判断是否为触摸设备
   */
  static isTouchDevice(deviceType: DeviceType): boolean {
    return deviceType === DeviceType.MOBILE || deviceType === DeviceType.TABLET;
  }

  /**
   * 判断浏览器是否为现代浏览器
   */
  static isModernBrowser(browserType: BrowserType): boolean {
    return ![BrowserType.IE, BrowserType.UNKNOWN].includes(browserType);
  }

  /**
   * 判断是否支持某个CSS特性
   */
  static supportsCSSFeature(feature: string): boolean {
    // 这里可以添加具体的特性检测逻辑
    // 例如：return CSS.supports(feature);
    return typeof CSS !== 'undefined' && CSS.supports && CSS.supports(feature);
  }

  /**
   * 获取设备信息摘要
   */
  static getDeviceSummary(
    deviceType: DeviceType,
    browserType: BrowserType,
    osType: OSType
  ): string {
    return `${deviceType}/${browserType}/${osType}`;
  }
}
```

### 1.6 国际化相关枚举

#### 1.6.1 语言和地区枚举
```typescript
// types/enums/Locale.ts

/**
 * 支持的语言枚举
 */
export enum Language {
  ZH_CN = 'zh-CN',  // 简体中文
  ZH_TW = 'zh-TW',  // 繁体中文
  EN_US = 'en-US',  // 美式英语
  EN_GB = 'en-GB',  // 英式英语
  JA_JP = 'ja-JP',  // 日语
  KO_KR = 'ko-KR',  // 韩语
  DE_DE = 'de-DE',  // 德语
  FR_FR = 'fr-FR',  // 法语
  ES_ES = 'es-ES',  // 西班牙语
  PT_BR = 'pt-BR',  // 巴西葡萄牙语
  RU_RU = 'ru-RU',  // 俄语
  AR_SA = 'ar-SA',  // 阿拉伯语
}

/**
 * 文本方向枚举
 */
export enum TextDirection {
  LTR = 'ltr',      // 从左到右
  RTL = 'rtl',      // 从右到左
}

/**
 * 日期格式枚举
 */
export enum DateFormat {
  SHORT = 'short',          // 2023/12/25
  MEDIUM = 'medium',        // 2023年12月25日
  LONG = 'long',           // 2023年12月25日 星期一
  FULL = 'full',           // 2023年12月25日 星期一 上午10:30
  ISO = 'iso',             // 2023-12-25T10:30:00Z
  RELATIVE = 'relative',    // 3天前
}

/**
 * 数字格式枚举
 */
export enum NumberFormat {
  DECIMAL = 'decimal',      // 1,234.56
  CURRENCY = 'currency',    // ¥1,234.56
  PERCENT = 'percent',      // 12.34%
  SCIENTIFIC = 'scientific', // 1.23e+3
}

/**
 * 国际化工具类
 */
export class LocaleUtils {
  /**
   * 获取语言的文本方向
   */
  static getTextDirection(language: Language): TextDirection {
    const rtlLanguages = [Language.AR_SA];
    return rtlLanguages.includes(language) ? TextDirection.RTL : TextDirection.LTR;
  }

  /**
   * 获取语言的显示名称
   */
  static getLanguageDisplayName(language: Language): string {
    const names: Record<Language, string> = {
      [Language.ZH_CN]: '简体中文',
      [Language.ZH_TW]: '繁體中文',
      [Language.EN_US]: 'English (US)',
      [Language.EN_GB]: 'English (UK)',
      [Language.JA_JP]: '日本語',
      [Language.KO_KR]: '한국어',
      [Language.DE_DE]: 'Deutsch',
      [Language.FR_FR]: 'Français',
      [Language.ES_ES]: 'Español',
      [Language.PT_BR]: 'Português (Brasil)',
      [Language.RU_RU]: 'Русский',
      [Language.AR_SA]: 'العربية',
    };
    return names[language] || language;
  }

  /**
   * 获取语言的ISO代码
   */
  static getLanguageCode(language: Language): string {
    return language.split('-')[0];
  }

  /**
   * 获取地区代码
   */
  static getCountryCode(language: Language): string {
    return language.split('-')[1] || '';
  }

  /**
   * 判断是否为中文
   */
  static isChinese(language: Language): boolean {
    return [Language.ZH_CN, Language.ZH_TW].includes(language);
  }

  /**
   * 判断是否为英文
   */
  static isEnglish(language: Language): boolean {
    return [Language.EN_US, Language.EN_GB].includes(language);
  }

  /**
   * 根据浏览器语言获取最匹配的支持语言
   */
  static getBestMatchLanguage(browserLanguages: string[]): Language {
    const supportedLanguages = Object.values(Language);
    
    for (const browserLang of browserLanguages) {
      // 精确匹配
      const exactMatch = supportedLanguages.find(lang => lang === browserLang);
      if (exactMatch) return exactMatch;
      
      // 语言代码匹配
      const langCode = browserLang.split('-')[0];
      const langMatch = supportedLanguages.find(lang => lang.startsWith(langCode));
      if (langMatch) return langMatch;
    }
    
    return Language.EN_US; // 默认语言
  }
}
```

## 验收标准
- [x] 所有前端状态和业务枚举定义完整
- [x] 枚举类包含完整的工具方法
- [x] 类型安全的TypeScript定义
- [x] 提供丰富的业务判断方法
- [x] 国际化支持完善
- [x] 设备和环境检测功能完整
- [x] 符合前端开发规范
- [x] 良好的代码结构和注释

## 交付物
- [x] RequestStatus.ts - 请求状态枚举
- [x] UIState.ts - UI状态枚举  
- [x] RouteState.ts - 路由状态枚举
- [x] DataState.ts - 数据状态枚举
- [x] MessageType.ts - 消息类型枚举
- [x] Device.ts - 设备类型枚举
- [x] Locale.ts - 国际化相关枚举
- [x] 各枚举对应的工具类

## 验证测试
1. TypeScript编译无错误
2. 测试枚举工具方法功能
3. 验证类型安全性
4. 测试国际化功能
5. 检查设备检测准确性
6. 验证路由权限检查

## 风险控制
- **类型安全**: 严格的TypeScript类型定义
- **向后兼容**: 枚举值变更不影响现有功能
- **性能优化**: 避免过重的工具方法
- **浏览器兼容**: 考虑不同浏览器的API支持

## 下一步
完成后集成到 `01-1-2-项目基础配置文件`